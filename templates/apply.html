{% extends 'main.html' %}
{% load static %}

{% block content%}
   
    <div class="container h-75">
        <div class="d-flex justify-content-center h-100">
            <div class="user_card">
                <div class="d-flex justify-content-center">
                    <h1 id="form-title">Upload File to find Structure</h1>
                </div>
                <div class="d-flex justify-content-center form_container">

                    <form method="POST" action="show_file_details" enctype="multipart/form-data">
                        {% csrf_token %} {% if messages %} {% for message in messages %}
                        <div class="alert alert-{{message.tags}}" id="msg" role="alert">
                            {{message}}
                        </div>
                        {% endfor %} {% endif %}

                        <div class="input-group p-1">
                            <span class="input-group-text"><i class="fas fa-upload" style='font-size:14px'></i></span>
                            <div class="custom-file">
                                <input required type="file" name="myfile" class="custom-file-input" id="customFile">
                                <label class="custom-file-label" for="customFile"></label>
                            </div>
                        </div>
                        
                        <script>
                            $(".custom-file-input").on("change", function() {
                                var fileName = $(this).val().split("\\").pop();
                                $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
                            });
                        </script>

                        <script>
                            setTimeout(function() {
                                if ($('#msg').length > 0) {
                                    $('#msg').remove();
                                }
                            }, 4000)
                        </script>

                        <div class="d-flex justify-content-center mt-3 login_container">
                            <input class="btn login_btn" type="submit" value="Upload">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

{% endblock %}